<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Word Game</title>
    <style>
        :root {
            --c-black: #000000;
            --c-dark: #12192b;
            --c-gray: #636778;
            --c-blue: #a8aeca;
            --c-light: #d6dee7;
            --c-red: #e74c3c;
            --c-green: #2ecc71;
            --c-gold: #f1c40f;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background-color: var(--c-dark);
            color: var(--c-light);
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        #loading-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: var(--c-dark); z-index: 9999;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            transition: opacity 0.5s ease-out;
        }
        .spinner {
            width: 50px; height: 50px; border: 5px solid var(--c-gray);
            border-top: 5px solid var(--c-light); border-radius: 50%;
            animation: spin 1s linear infinite; margin-bottom: 20px;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .designer-text { font-size: 0.9rem; letter-spacing: 1px; color: var(--c-blue); opacity: 0.8; margin-top: 10px; }

        .app-container {
            width: 100%; max-width: 450px; height: 100%; padding: 20px;
            display: flex; flex-direction: column; position: relative;
            opacity: 0; transition: opacity 0.5s ease-in;
        }

        .screen {
            display: none; flex-direction: column; align-items: center; justify-content: center;
            height: 100%; width: 100%; animation: fadeIn 0.4s ease;
        }
        .screen.active { display: flex; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .input-group { width: 100%; margin-bottom: 15px; text-align: left; }
        label { display: block; margin-bottom: 5px; color: var(--c-blue); font-size: 0.9rem; font-weight: bold; }
        input[type="text"], input[type="number"], select {
            width: 100%; padding: 12px; background-color: var(--c-gray);
            color: #fff; border: 1px solid var(--c-blue); border-radius: 10px;
            font-size: 1rem; outline: none; transition: border-color 0.3s;
        }
        input:focus, select:focus { border-color: var(--c-light); }
        
        .error-message {
            color: var(--c-red); font-weight: bold; margin-bottom: 15px;
            display: none; animation: shake 0.3s;
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .btn {
            width: 100%; padding: 16px; border: none; border-radius: 12px;
            font-size: 1.2rem; font-weight: bold; cursor: pointer; margin-top: 10px;
            color: var(--c-dark); transition: 0.1s;
        }
        .btn:active { transform: scale(0.96); }
        .btn-start { background-color: var(--c-light); margin-top: 20px; }
        .btn-ready { background-color: var(--c-green); color: white; box-shadow: 0 0 15px rgba(46, 204, 113, 0.4); }
        .btn-reset { background-color: var(--c-gray); color: #fff; }

        .top-scoreboard {
            display: flex; justify-content: space-between; width: 100%;
            background: rgba(255,255,255,0.05); padding: 10px 15px;
            border-radius: 10px; margin-bottom: 15px; border: 1px solid rgba(255,255,255,0.1);
        }
        .team-score-box { text-align: center; font-size: 0.9rem; color: var(--c-blue); }
        .team-score-box span { display: block; font-size: 1.2rem; font-weight: bold; color: #fff; }
        .active-turn { color: var(--c-green); }

        .game-info-bar {
            display: flex; justify-content: space-between; align-items: center;
            width: 100%; margin-bottom: 10px; font-size: 1.1rem; color: var(--c-blue); font-weight: bold;
        }
        .timer-box {
            font-family: monospace; font-size: 1.6rem; color: var(--c-light);
            background: rgba(255,255,255,0.1); padding: 5px 10px; border-radius: 8px;
        }

        .card-container {
            width: 100%; flex-grow: 1; display: flex; justify-content: center; align-items: center;
            perspective: 1000px; margin-bottom: 20px; position: relative;
        }
        .word-card {
            background-color: var(--c-light); color: var(--c-black);
            width: 100%; height: 100%; max-height: 320px; border-radius: 20px;
            display: flex; justify-content: center; align-items: center; padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            transition: transform 0.3s ease-out, opacity 0.3s ease-out;
        }
        .word-text { font-size: 2.4rem; font-weight: 800; text-align: center; line-height: 1.2; word-break: break-word; }
        
        .slide-right { transform: translateX(120%) rotate(15deg) !important; opacity: 0 !important; }
        .slide-left { transform: translateX(-120%) rotate(-15deg) !important; opacity: 0 !important; }

        .controls { display: flex; gap: 15px; width: 100%; }
        .btn-game {
            flex: 1; height: 70px; border-radius: 15px; font-size: 1.3rem;
            display: flex; align-items: center; justify-content: center;
            color: #fff; font-weight: bold; box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        .btn-pass { background-color: var(--c-gray); border: 2px solid var(--c-gray); }
        .btn-correct { background-color: var(--c-blue); color: var(--c-black); }
        .btn-pass.disabled { background-color: #343a40; border-color: #343a40; color: #6c757d; pointer-events: none; }

        .ready-box { text-align: center; background: rgba(255,255,255,0.05); padding: 30px; border-radius: 20px; width: 100%; }
        .team-highlight { font-size: 2.5rem; font-weight: 800; color: var(--c-light); margin: 20px 0; text-transform: uppercase; }
        .round-badge { background: var(--c-blue); color: var(--c-black); padding: 5px 10px; border-radius: 5px; font-weight: bold; font-size: 0.9rem; }
        .overtime-badge { background: var(--c-red); color: #fff; }

        .score-detail { font-size: 1.2rem; margin: 10px 0; color: var(--c-blue); }
        .big-score { font-size: 4rem; font-weight: 800; color: var(--c-light); }
        
        .winner-title { color: var(--c-gold); font-size: 2rem; margin-bottom: 10px; text-shadow: 0 0 10px rgba(241, 196, 15, 0.5); }
        .winner-name { font-size: 3rem; font-weight: 900; color: #fff; margin-bottom: 30px; }
        .confetti { font-size: 3rem; margin-bottom: 20px; display: block; animation: bounce 1s infinite; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }

        .final-score-table {
            width: 100%;
            background: rgba(0,0,0,0.2);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .score-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            font-size: 1.2rem;
        }
        .score-row:last-child { border-bottom: none; }
        .score-val { font-weight: bold; color: var(--c-green); font-size: 1.4rem; }

    </style>
</head>
<body>

    <div id="loading-screen">
        <div class="spinner"></div>
        <div style="font-size: 1.2rem; font-weight: bold; color: var(--c-light);">Y√úKLENƒ∞YOR...</div>
        <div class="designer-text">Designed by emreeroglu</div>
    </div>

    <div class="app-container" id="main-app">

        <div id="setup-screen" class="screen active">
            <h1>Oyun Kurulumu</h1>
            
            <div class="input-group">
                <label>1. Takƒ±m Adƒ±:</label>
                <input type="text" id="team1Input" placeholder="Takƒ±m 1">
            </div>
            <div class="input-group">
                <label>2. Takƒ±m Adƒ±:</label>
                <input type="text" id="team2Input" placeholder="Takƒ±m 2">
            </div>

            <div class="input-group">
                <label>Raunt Sayƒ±sƒ± (Toplam):</label>
                <input type="number" id="roundInput" placeholder="√ñrn: 3" min="1">
            </div>

            <div style="display:flex; gap:10px;">
                <div class="input-group">
                    <label>S√ºre:</label>
                    <select id="timeSelect">
                        <option value="60">1 Dk</option>
                        <option value="120" selected>2 Dk</option>
                        <option value="180">3 Dk</option>
                        <option value="240">4 Dk</option>
                        <option value="300">5 Dk</option>
                    </select>
                </div>
                <div class="input-group">
                    <label>Pas Hakkƒ±:</label>
                    <select id="passSelect">
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5" selected>5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="-1">Sƒ±nƒ±rsƒ±z</option>
                    </select>
                </div>
            </div>

            <div id="errorMsg" class="error-message">‚ö†Ô∏è L√ºtfen ge√ßerli bir raunt sayƒ±sƒ± girin!</div>

            <button class="btn btn-start" onclick="validateAndStart()">KURULUMU TAMAMLA</button>
        </div>

        <div id="ready-screen" class="screen">
            <div class="ready-box">
                <span class="round-badge" id="roundBadge">1. RAUNT</span>
                <h3 id="tieMessage" style="color:var(--c-gold); margin-top:10px; display:none;">E≈ûƒ∞TLƒ∞K BOZULMADI!</h3>
                
                <div style="margin-top:20px; opacity:0.7;">SIRADAKƒ∞ TAKIM</div>
                <div id="readyTeamName" class="team-highlight">TAKIM ADI</div>
                <p>M√ºziƒüi a√ßƒ±n, kulaklƒ±klarƒ± takƒ±n!</p>
                <button class="btn btn-ready" onclick="startGameRound()">HAZIRIM BA≈ûLA üöÄ</button>
            </div>
        </div>

        <div id="game-screen" class="screen">
            <div class="top-scoreboard">
                <div class="team-score-box" id="tsBox1">
                    <div id="tsName1">Takƒ±m 1</div>
                    <span id="tsScore1">0</span>
                </div>
                <div style="align-self:center; color:var(--c-gray);">VS</div>
                <div class="team-score-box" id="tsBox2">
                    <div id="tsName2">Takƒ±m 2</div>
                    <span id="tsScore2">0</span>
                </div>
            </div>

            <div class="game-info-bar">
                <span id="currentTeamDisplay">Sƒ±ra: Takƒ±m 1</span>
                <div class="timer-box" id="timerDisplay">00:00</div>
            </div>

            <div class="card-container">
                <div id="wordCard" class="word-card">
                    <span id="wordText" class="word-text">...</span>
                </div>
            </div>

            <div class="controls">
                <button id="btnPass" class="btn btn-game btn-pass" onclick="handlePass()">PAS</button>
                <button class="btn btn-game btn-correct" onclick="handleCorrect()">DOƒûRU ‚úÖ</button>
            </div>
        </div>

        <div id="turn-result-screen" class="screen">
            <h2>S√ºre Doldu!</h2>
            <div class="score-detail">Bu Tur Kazanƒ±lan Puan</div>
            <div class="big-score" id="roundScoreDisplay">0</div>
            
            <div style="width:100%; border-top:1px solid var(--c-gray); margin:20px 0;"></div>
            
            <div class="score-detail">Toplam Puan Durumu</div>
            <div style="display:flex; justify-content:space-around; width:100%; font-weight:bold; font-size:1.2rem;">
                <div id="resT1">T1: 0</div>
                <div id="resT2">T2: 0</div>
            </div>

            <button class="btn btn-start" onclick="nextTurnLogic()">SIRADAKƒ∞NE GE√á</button>
        </div>

        <div id="game-over-screen" class="screen">
            <span class="confetti">üéâüéâüéâ</span>
            <h1 class="winner-title">üèÜ KAZANAN üèÜ</h1>
            <div id="winnerName" class="winner-name">TAKIM ADI</div>
            
            <div class="final-score-table">
                <div class="score-row">
                    <span id="finalT1Name">Takƒ±m 1</span>
                    <span id="finalT1Score" class="score-val">0</span>
                </div>
                <div class="score-row">
                    <span id="finalT2Name">Takƒ±m 2</span>
                    <span id="finalT2Score" class="score-val">0</span>
                </div>
            </div>

            <button class="btn btn-reset" onclick="resetGame()">ANA MEN√úYE D√ñN</button>
        </div>

    </div>

    <script>
        const wordPool = [
            "Araba", "Bebek", "Patates", "Masa", "Kalem", "Telefon", "Balƒ±k", "Anne", "Baba", "Lamba",
            "Pamuk", "Makas", "Bardak", "√áatal", "Ka≈üƒ±k", "Tabak", "Yastƒ±k", "√áar≈üaf", "Sabun", "Havlu",
            "Ayna", "Tarak", "Koltuk", "Halƒ±", "Perde", "Kapƒ±", "Pencere", "Duvar", "Tavan", "√áatƒ±",
            "Bah√ße", "Aƒüa√ß", "√ái√ßek", "G√ºl", "Papatya", "Lale", "S√ºmb√ºl", "Menek≈üe", "Karpuz", "Kavun",
            "Elma", "Armut", "Muz", "√áilek", "Kiraz", "Vi≈üne", "√úz√ºm", "ƒ∞ncir", "Erik", "≈ûeftali",
            "Kayƒ±sƒ±", "Portakal", "Mandalina", "Limon", "Kedi", "K√∂pek", "Ku≈ü", "Balina", "Yunus", "Hamsi",
            "Tavuk", "Horoz", "ƒ∞nek", "Koyun", "Ke√ßi", "At", "E≈üek", "Arƒ±", "Kelebek", "Sinek",
            "B√∂cek", "√ñr√ºmcek", "Karƒ±nca", "Aslan", "Kaplan", "Ayƒ±", "Fil", "Z√ºrafa", "Maymun", "Zebra",
            "Doktor", "Hem≈üire", "Polis", "Asker", "ƒ∞tfaiye", "Pilot", "≈ûof√∂r", "Terzi", "Berber", "Kuaf√∂r",
            "Bakkal", "Manav", "Kasap", "Fƒ±rƒ±n", "Eczane", "Okul", "Sƒ±nƒ±f", "√ñƒürenci", "√ñƒüretmen", "√áanta",
            "Bilgisayar", "Televizyon", "Buzdolabƒ±", "√áama≈üƒ±r Makinesi", "Bula≈üƒ±k Makinesi", "√út√º", "S√ºp√ºrge", "Radyo", "Kamera", "Fotoƒüraf",
            "Mikrodalga", "Tost", "Hamburger", "Pizza", "Makarna", "Salata", "√áorba", "K√∂fte", "D√∂ner", "ƒ∞skender",
            "Lahmacun", "Pide", "Kebap", "Baklava", "Kadayƒ±f", "S√ºtla√ß", "Kazandibi", "Dondurma", "√áikolata", "Bisk√ºvi",
            "Kraker", "Cips", "Kola", "Gazoz", "Ayran", "Meyve Suyu", "Kahve", "√áay", "≈ûeker", "Tuz",
            "Karabiber", "Pul Biber", "Kekik", "Nane", "Maydanoz", "Dereotu", "Roka", "Tere", "Ispanak", "Pƒ±rasa",
            "Kereviz", "Lahana", "Karnabahar", "Brokoli", "Bezelye", "Fasulye", "Nohut", "Mercimek", "Pirin√ß", "Bulgur",
            "K√ºt√ºphane", "Hastane", "Postane", "Banka", "Otel", "Pansiyon", "Lokanta", "Restoran", "Kafe", "Pastane",
            "Sinema", "Tiyatro", "M√ºze", "Sergi", "Konser", "Stadyum", "Park", "Lunapark", "Hayvanat Bah√ßesi", "Akvaryum",
            "Alƒ±≈üveri≈ü", "Maƒüaza", "Market", "Pazar", "Belediye", "Valilik", "Kaymakamlƒ±k", "Muhtarlƒ±k", "Adliye", "Karakol",
            "Havalimanƒ±", "Otogar", "ƒ∞stasyon", "Liman", "ƒ∞skele", "Durak", "Cadde", "Sokak", "Meydan", "Bulvar",
            "√úniversite", "Laboratuvar", "Rehabilitasyon", "Al√ºminyum", "Greyfurt", "≈ûempanze", "Orangutan", "Bukalemun", "Suaygƒ±rƒ±", "Gergedan",
            "Dinozor", "Solucan", "M√ºhendislik", "Mimarlƒ±k", "Veteriner", "Psikolog", "Psikiyatrist", "Arkeolog", "Astronot", "Jandarma",
            "Zabƒ±ta", "Kaymakam", "Vali", "B√ºy√ºkel√ßi", "Cumhurba≈ükanƒ±", "Ba≈übakan", "Milletvekili", "Vantilat√∂r", "Kalorifer", "Radyat√∂r",
            "Jenerat√∂r", "Asans√∂r", "Helikopter", "Denizaltƒ±", "Otomobil", "Motosiklet", "Kamyonet", "Minib√ºs", "Otob√ºs", "Tramvay",
            "Metrob√ºs", "Feribot", "≈ûemsiye", "Yaƒümurluk", "Pard√∂s√º", "Kaban", "Ayakkabƒ±", "Terlik", "√áorap", "Eldiven",
            "Atkƒ±", "Bere", "M√ºcevher", "Pƒ±rlanta", "Bilezik", "Kolye", "K√ºpe", "Y√ºz√ºk", "Saat", "G√∂zl√ºk",
            "Lens", "≈ûampuan", "Deodorant", "Parf√ºm", "Kolonya", "Di≈ü Macunu", "Fƒ±r√ßa", "Cƒ±mbƒ±z", "T√∂rp√º", "Oje",
            "Ruj", "Rimel", "Fond√∂ten", "Pudra", "Allƒ±k", "Far", "Eyeliner", "Maskara", "Aseton", "Kulak √áubuƒüu",
            "Pe√ßete", "Mendil", "Bornoz", "S√ºnger", "Lif", "Kese", "Top", "Balon", "Biber", "Marul",
            "Dolma", "Sarma", "B√∂rek", "√á√∂rek", "Simit", "Gazete", "Dergi", "Kitap", "Defter", "Silgi",
            "Kutu", "≈ûi≈üe", "Kova", "K√ºrek", "Kum", "Deniz", "G√ºne≈ü", "Bulut", "Yaƒümur", "Kar",
            "≈ûapka", "Mont", "Bot", "Kemer", "D√ºƒüme", "ƒ∞ƒüne", "ƒ∞plik", "Kuma≈ü", "Y√ºn", "≈ûi≈ü",
            "Keman", "Gitar", "Davul", "Fl√ºt", "Saz", "Piyano", "Nota", "≈ûarkƒ±", "Dans", "Bale",
            "Sahne", "Sehpa", "Sandalye", "√áekmece", "Gardƒ±rop", "Vestiyer", "Kitaplƒ±k", "Abajur", "Avize", "Priz",
            "Kablo", "Adapt√∂r", "Batarya", "Kumanda", "Hoparl√∂r", "Mikrofon", "Kulaklƒ±k", "Klavye", "Mouse (Fare)", "Yazƒ±cƒ±",
            "Tarayƒ±cƒ±", "Monit√∂r", "Tencere", "√áaydanlƒ±k", "Cezve", "S√ºrahi", "Kavanoz", "Rende", "S√ºzge√ß", "Huni",
            "Oklava", "Merdane", "Tirbu≈üon", "A√ßacak", "Deterjan", "Yumu≈üatƒ±cƒ±", "Mandal", "Elektrik", "Fatura", "Sepet",
            "Po≈üet", "Fi≈ü", "Kasiyer", "M√º≈üteri", "ƒ∞ndirim", "Kampanya", "Vitrin", "Ansiklopedi", "Hal√ºsinasyon", "Manip√ºlasyon",
            "Organizasyon", "Navigasyon", "Enformasyon", "Dekorasyon", "Restorasyon", "ƒ∞zolasyon", "Sim√ºlasyon", "Motivasyon", "Konsantrasyon", "Koordinasyon",
            "ƒ∞leti≈üim", "Teknoloji", "Edebiyat", "Matematik", "Cumhuriyet", "Demokrasi", "√ñzg√ºrl√ºk", "Adalet", "E≈üitlik", "Vatanda≈ülƒ±k",
            "Sorumluluk", "Disiplin", "Saygƒ±", "Sevgi", "Ho≈üg√∂r√º", "Merhamet", "Vicdan", "Yetenek", "Ba≈üarƒ±", "Tecr√ºbe",
            "Kariyer", "Gelecek", "Ge√ßmi≈ü", "Hatƒ±ra", "Macera", "Heyecan", "Korku", "Endi≈üe", "≈û√ºphe", "Merak",
            "Tesad√ºf", "Mucize", "Efsane", "Hikaye", "Roman", "≈ûiir", "Masal", "Biyografi", "Belgesel", "Y√∂netmen",
            "Senaryo", "Oyuncu", "Karakter", "Festival", "Karnaval", "Olimpiyat", "≈ûampiyona", "Turnuva", "Madalya", "Kupa",
            "Antrenman", "Egzersiz", "Saƒülƒ±k", "Beslenme", "Diyet", "Kalori", "Vitamin", "Protein", "Mineral", "Enerji",
            "Atmosfer", "Evren", "Galaksi", "Gezegen", "Yƒ±ldƒ±z", "Kuyrukluyƒ±ldƒ±z", "G√∂kta≈üƒ±", "Teleskop", "Mikroskop", "Termometre",
            "Barometre", "Kronometre", "Pusula", "Harita", "K√ºre", "Atlas", "S√∂zl√ºk", "Kƒ±lavuz", "Katalog", "Bro≈ü√ºr",
            "Davetiye", "Diploma", "Sertifika", "Plaket", "Heykel", "Tablo",
            "El", "Kol", "G√∂z", "Ka≈ü", "Sa√ß", "Di≈ü", "Dil", "Ba≈ü", "Diz", "Bel", "Sƒ±rt", "Can", "Kan", "Ter", "Su", "S√ºt", "Bal", "Pekmez",
            "Re√ßel", "Yaƒü", "Un", "Tuz", "Nar", "Dut", "Muz", "Ok", "Yay", "At", "Tay", "Zil", "√áan", "Mum", "Pil", "Tel", "K√ºp", "Zar", "Pul",
            "√áim", "Yol", "Han", "K√∂y", "ƒ∞l", "√á√∂l", "Buz", "Daƒü", "Ta≈ü", "Ko≈ü", "Gel", "Dur", "Bak", "G√∂r", "Sev", "G√ºl", "Yaz", "Kƒ±≈ü", "G√ºz",
            "Yƒ±l", "Ay", "G√ºn", "Saat", "Dakika", "Sabah", "Ak≈üam", "Gece", "Yarƒ±n", "D√ºn", "Bug√ºn", "Mavi", "Sarƒ±", "Ye≈üil", "Siyah", "Beyaz",
            "Mor", "Gri", "Laz", "T√ºrk", "K√ºrt", "Rus", "√áin", "C√ºzdan", "Anahtarlƒ±k", "√áakmak", "K√ºll√ºk", "Tespih", "Bilet", "Jeton", "Harita",
            "D√ºrb√ºn", "Kask", "Korna", "Fren", "Gaz", "Debriyaj", "Vites", "Lastik", "Jant", "Tampon", "Silecek", "Torpido", "Bagaj", "Kaput",
            "Motor", "Egzoz", "Benzin", "Mazot", "Lpg", "ƒ∞stasyon", "Tamirci", "Tornavida", "Pense", "√áeki√ß", "Keser", "Testere", "Matkap",
            "Vida", "√áivi", "Somun", "Kilit", "Mente≈üe", "Musluk", "Lavabo", "K√ºvet", "Fayans", "Parke", "Mermer", "Beton", "Tuƒüla", "√áimento",
            "Kiremit", "Badana", "Boya", "Rulo", "Merdiven", "Balkon", "Teras", "Havuz", "Kumsal", "Orman", "Maƒüara", "≈ûelale", "Irmak", "Nehir",
            "G√∂l", "Ada", "Yarƒ±mada", "Kƒ±ta", "√úlke", "≈ûehir", "Kasaba", "Mezra", "Yayla", "Oba", "√áadƒ±r", "Kamp", "Memnuniyet", "Mecburiyet",
            "Samimiyet", "Hassasiyet", "Emniyet", "H√ºrriyet", "Milliyet", "Zihniyet", "Ciddiyet", "Faaliyet", "Kabiliyet", "Mesuliyet", "Maƒüduriyet",
            "Teslimiyet", "ƒ∞slamiyet", "Hristiyanlƒ±k", "Musevilik", "Budizm", "Ateizm", "Deizm", "Agnostisizm", "Sosyalizm", "Kom√ºnizm", "Kapitalizm",
            "Fa≈üizm", "Liberalizm", "Romantizm", "Realizm", "S√ºrrealizm", "Dadaizm", "K√ºbizm", "F√ºt√ºrizm", "Egzistansiyalizm", "Antibiyotik",
            "Probiyotik", "Analjezik", "Antiseptik", "Estetik", "Kozmetik", "Genetik", "Sibernetik", "Aritmetik", "ƒ∞statistik", "Lojistik", "Balistik",
            "Turistik", "Otantik", "Romantik", "Sempatik", "Antipatik", "Fantastik", "Nostaljik", "Stratejik", "Psikolojik", "Teknolojik", "Biyolojik",
            "Jeolojik", "Arkeolojik", "Sosyolojik", "Ekonomik", "Ergonomik", "Astronomik", "Gastronomik", "Panoramik", "Akademik", "Pandemi", "Epidemi",
            "Karantina", "Dezenfeksiyon", "Sterilizasyon", "Operasyon", "Spek√ºlasyon", "Enflasyon", "Deval√ºasyon", "Resesyon", "Depresyon", "Tansiyon",
            "Koleksiyon", "Enfeksiyon", "Enjeksiyon", "Projeksiyon", "Direksiyon", "Komisyon", "Misyon", "Vizyon", "Radyasyon", "Varyasyon", "Kombinasyon",
            "ƒ∞ll√ºzyon", "Konfederasyon", "Federasyon", "ƒ∞stihbarat", "ƒ∞stikbal", "ƒ∞stiklal", "ƒ∞htimal", "ƒ∞hmal", "ƒ∞kbal", "ƒ∞deal"
        ];

        let teamNames = { 1: "Takƒ±m 1", 2: "Takƒ±m 2" };
        let teamScores = { 1: 0, 2: 0 };
        
        let currentTeam = 1;
        let currentRound = 1;
        let targetRounds = 3; 
        
        let roundScore = 0;
        let timerVal = 0;
        let passLimit = 5;
        let currentPasses = 5;
        let timerInterval;
        
        let usedWordsGlobal = new Set();
        let currentWords = [];
        let isAnimating = false;

        window.onload = function() {
            setTimeout(() => {
                document.getElementById('loading-screen').style.opacity = '0';
                document.getElementById('main-app').style.opacity = '1';
                setTimeout(() => { document.getElementById('loading-screen').style.display = 'none'; }, 500);
            }, 2000);
        };

        function showScreen(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        function updateTopScoreboard() {
            document.getElementById('tsName1').innerText = teamNames[1];
            document.getElementById('tsName2').innerText = teamNames[2];
            
            let t1Display = teamScores[1];
            let t2Display = teamScores[2];
            
            if (currentTeam === 1) t1Display += roundScore;
            else t2Display += roundScore;

            document.getElementById('tsScore1').innerText = t1Display;
            document.getElementById('tsScore2').innerText = t2Display;

            if(currentTeam === 1) {
                document.getElementById('tsBox1').classList.add('active-turn');
                document.getElementById('tsBox2').classList.remove('active-turn');
            } else {
                document.getElementById('tsBox1').classList.remove('active-turn');
                document.getElementById('tsBox2').classList.add('active-turn');
            }
        }

        function validateAndStart() {
            const rInput = document.getElementById('roundInput').value;
            const errorDiv = document.getElementById('errorMsg');

            if (rInput === "" || isNaN(rInput) || parseInt(rInput) < 1) {
                errorDiv.style.display = 'block';
                return;
            }
            errorDiv.style.display = 'none';

            const t1 = document.getElementById('team1Input').value.trim();
            const t2 = document.getElementById('team2Input').value.trim();
            if (t1) teamNames[1] = t1;
            if (t2) teamNames[2] = t2;

            targetRounds = parseInt(rInput);
            timerVal = parseInt(document.getElementById('timeSelect').value);
            passLimit = parseInt(document.getElementById('passSelect').value);

            teamScores = { 1: 0, 2: 0 };
            currentRound = 1;
            currentTeam = 1;

            prepareReadyScreen();
        }

        function prepareReadyScreen() {
            const badge = document.getElementById('roundBadge');
            const tieMsg = document.getElementById('tieMessage');
            
            badge.innerText = `${currentRound}. RAUNT / ${targetRounds}`;
            badge.classList.remove('overtime-badge');
            tieMsg.style.display = 'none';
            
            document.getElementById('readyTeamName').innerText = teamNames[currentTeam];
            showScreen('ready-screen');
        }

        function startGameRound() {
            roundScore = 0;
            currentPasses = passLimit; 
            let timeLeft = timerVal;
            
            let availableWords = wordPool.filter(word => !usedWordsGlobal.has(word));
            if (availableWords.length < 20) {
                usedWordsGlobal.clear();
                availableWords = [...wordPool];
            }
            currentWords = [...availableWords];
            
            isAnimating = false;

            document.getElementById('currentTeamDisplay').innerText = "Sƒ±ra: " + teamNames[currentTeam];
            updateTopScoreboard();
            updatePassButton(); 
            
            showScreen('game-screen');
            nextWord(false);

            clearInterval(timerInterval);
            updateTimerText(timeLeft);
            
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerText(timeLeft);
                if (timeLeft <= 0) {
                    finishTurn();
                }
            }, 1000);
        }

        function updateTimerText(t) {
            const m = Math.floor(t / 60).toString().padStart(2, '0');
            const s = (t % 60).toString().padStart(2, '0');
            document.getElementById('timerDisplay').innerText = `${m}:${s}`;
        }

        function updatePassButton() {
            const btn = document.getElementById('btnPass');
            
            if (currentPasses === -1) {
                btn.innerText = "PAS (‚àû)";
                btn.classList.remove('disabled');
            } else {
                btn.innerText = `PAS (${currentPasses})`;
                if (currentPasses <= 0) {
                    btn.classList.add('disabled');
                    btn.innerText = "PAS Bƒ∞TTƒ∞";
                } else {
                    btn.classList.remove('disabled');
                }
            }
        }

        function getNextWord() {
            if (currentWords.length === 0) return "T√úM KELƒ∞MELER Bƒ∞TTƒ∞!";
            const rnd = Math.floor(Math.random() * currentWords.length);
            const w = currentWords[rnd];
            currentWords.splice(rnd, 1);
            usedWordsGlobal.add(w);
            return w;
        }

        function nextWord(direction) {
            const card = document.getElementById('wordCard');
            const txt = document.getElementById('wordText');

            if (!direction) {
                txt.innerText = getNextWord();
                return;
            }

            if (isAnimating) return;
            isAnimating = true;

            if (direction === 'right') card.classList.add('slide-right');
            else card.classList.add('slide-left');

            setTimeout(() => {
                txt.innerText = getNextWord();
                card.classList.remove('slide-right', 'slide-left');
                isAnimating = false;
            }, 300);
        }

        function handleCorrect() {
            if (isAnimating) return;
            roundScore++;
            updateTopScoreboard(); 
            nextWord('right');
        }

        function handlePass() {
            if (isAnimating) return;
            
            if (currentPasses !== -1 && currentPasses <= 0) return;

            if (currentPasses !== -1) {
                currentPasses--;
            }

            updatePassButton();
            nextWord('left');
        }

        function finishTurn() {
            clearInterval(timerInterval);
            teamScores[currentTeam] += roundScore;
            
            let isGameOver = false;
            if (currentRound === targetRounds && currentTeam === 2) {
                if (teamScores[1] !== teamScores[2]) {
                    isGameOver = true;
                }
            }

            if (isGameOver) {
                showGameOver();
            } else {
                document.getElementById('roundScoreDisplay').innerText = `+${roundScore}`;
                document.getElementById('resT1').innerText = `${teamNames[1]}: ${teamScores[1]}`;
                document.getElementById('resT2').innerText = `${teamNames[2]}: ${teamScores[2]}`;
                showScreen('turn-result-screen');
            }
        }

        function nextTurnLogic() {
            if (currentTeam === 1) {
                currentTeam = 2;
                prepareReadyScreen();
            } else {
                if (currentRound < targetRounds) {
                    currentRound++;
                    currentTeam = 1;
                    prepareReadyScreen();
                } else {
                    targetRounds++; 
                    currentRound++; 
                    currentTeam = 1; 
                    prepareReadyScreen(); 
                    const badge = document.getElementById('roundBadge');
                    const tieMsg = document.getElementById('tieMessage');
                    badge.innerText = "UZATMA RAUNDU";
                    badge.classList.add('overtime-badge');
                    tieMsg.style.display = 'block';
                }
            }
        }

        function showGameOver() {
            let winner = "";
            if (teamScores[1] > teamScores[2]) winner = teamNames[1];
            else if (teamScores[2] > teamScores[1]) winner = teamNames[2];
            else winner = "DOSTLUK";

            document.getElementById('winnerName').innerText = winner;
            document.getElementById('finalT1Name').innerText = teamNames[1];
            document.getElementById('finalT1Score').innerText = teamScores[1];
            document.getElementById('finalT2Name').innerText = teamNames[2];
            document.getElementById('finalT2Score').innerText = teamScores[2];
            
            showScreen('game-over-screen');
        }

        function resetGame() {
            showScreen('setup-screen');
        }
    </script>
</body>

</html>
